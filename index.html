<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Aura Flow Collection</title>
<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ Pacifico -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet" />
<!-- –ò–∫–æ–Ω–∫–∏ FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
  margin: 0;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  background-color: #fff;
  color: #333;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* –°—Ç–∏–ª—å –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ */
.product button {
  padding: 12px 24px;
  background-color: #000; /* —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω */
  color: #fff; /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
  border: none;
  border-radius: 10px; /* —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
  font-family: 'Roboto', cursive; /* –∫—Ä–∞—Å–∏–≤—ã–π —à—Ä–∏—Ñ—Ç */
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}
.product button:hover {
  background-color: #222;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
  transform: translateY(-2px);
}

/* –ß–µ—Ä–Ω–∞—è –ø–æ–ª–æ—Å–∫–∞ —Å–≤–µ—Ä—Ö—É —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –º–µ–Ω—é */
.black-bar {
  height: 60px; /* –£–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
  background-color: #000;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.logo-link {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.logo-link img {
  height: 40px; /* –†–∞–∑–º–µ—Ä –ª–æ–≥–æ—Ç–∏–ø–∞ */
  max-height: 70%; /* –ß—Ç–æ–±—ã –Ω–µ –≤—ã—Ö–æ–¥–∏–ª –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –ø–æ–ª–æ—Å–∫–∏ */
}

/* –ú–µ–Ω—é –≤ –ª–µ–≤–æ–º —É–≥–ª—É –Ω–∞ —É—Ä–æ–≤–Ω–µ –ª–æ–≥–æ—Ç–∏–ø–∞ */
.menu-container {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1000;
}

#menu-button {
  background: none;
  border: none;
  color: #fff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç –¥–ª—è –º–µ–Ω—é */
  cursor: pointer;
  font-size: 24px;
  padding: 5px;
}

/* –í—ã–¥–≤–∏–≥–∞—é—â–µ–µ—Å—è –º–µ–Ω—é */
#menu {
  position: fixed;
  top: 0;
  left: -33.33vw; /* –°–∫—Ä—ã—Ç–æ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞ */
  width: 33.33vw; /* 1/3 —ç–∫—Ä–∞–Ω–∞ */
  height: 100vh;
  background: #000;
  color: white;
  transition: left 0.3s ease;
  z-index: 999;
  overflow-y: auto;
  padding: 20px;
  box-sizing: border-box;
}

#menu.active {
  left: 0;
}

#close-menu {
  background: #000; /* –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–∞ */
  border: none;
  color: #fff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–∞ */
  font-size: 20px;
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
  margin-top: 40px;
}

#menu li {
  margin-bottom: 15px;
}

#menu a {
  text-decoration: none;
  color: white;
  display: block;
  padding: 8px 0;
  font-size: 16px;
}

.categories-toggle {
  cursor: pointer;
  padding: 8px 0;
}

.subcategories {
  list-style: none;
  margin: 0;
  padding-left: 15px;
  display: none;
}

.subcategories.active {
  display: block;
}

/* –ö–æ—Ä–∑–∏–Ω–∞ —Å–ø—Ä–∞–≤–∞ –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞ */
#cart-container {
  position: fixed;
  right: 20px;
  top: 80px; /* –ù–∏–∂–µ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏, –Ω–æ –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞ */
  z-index: 998;
  display: none; /* –°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
}

#cart-button {
  background: #000;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  color: white;
  cursor: pointer;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  position: relative;
}

#cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background: red;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* –û–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã */
#cart-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  z-index: 1001;
  align-items: center;
  justify-content: center;
}

#cart-content {
  background: white;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
}

#cart-items {
  margin-bottom: 20px;
  max-height: 200px;
  overflow-y: auto;
}

.cart-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
  gap: 10px;
}

.cart-item-image {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 5px;
}

.cart-item-info {
  flex: 1;
}

.cart-item-controls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.cart-item button {
  background: #000;
  color: white;
  border: none;
  border-radius: 5px;
  width: 25px;
  height: 25px;
  cursor: pointer;
}

#cart-form input, #cart-form select {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-sizing: border-box;
}

#cart-total {
  font-weight: bold;
  margin: 15px 0;
  text-align: right;
}

#checkout-btn {
  width: 100%;
  padding: 12px;
  background: #000;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
}

#close-cart {
  background: none;
  border: none;
  font-size: 20px;
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ */
.products {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 0 auto;
  max-width: 100%;
  padding: 20px 10px;
  justify-content: center;
  flex: 1;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
.product {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 10px;
  width: 100%;
  max-width: 220px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: box-shadow 0.3s;
  margin-bottom: 15px;
  position: relative;
  overflow: hidden;
}

.product:hover {
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.product-image {
  width: 100%;
  height: 200px;
  background-color: #f5f5f5;
  margin-bottom: 10px;
  position: relative;
  overflow: hidden;
}

.product-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.3s ease;
}

.product-image .hover-image {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
}

.product:hover .hover-image {
  opacity: 1;
}

.product:hover .main-image {
  opacity: 0;
}

/* –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤–≤–µ—Ä—Ö */
#back-to-top {
  position: fixed;
  bottom: 100px;
  right: 20px;
  background: #000;
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  cursor: pointer;
  font-size: 20px;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 997;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  transition: opacity 0.3s;
}

#back-to-top.visible {
  display: flex;
}

/* –§—É—Ç–µ—Ä */
.footer {
  background-color: #000;
  color: #fff;
  padding: 30px 20px;
  font-size: 14px;
  margin-top: auto; /* –ß—Ç–æ–±—ã —Ñ—É—Ç–µ—Ä –±—ã–ª –≤ —Å–∞–º–æ–º –Ω–∏–∑—É */
}

.footer-content {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
}

.footer-section {
  flex: 1;
  min-width: 200px;
  margin-bottom: 20px;
}

.footer-section h3 {
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 16px;
}

.footer-links {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-links li {
  margin-bottom: 8px;
}

.footer-links a {
  color: #fff;
  text-decoration: none;
}

.footer-links a:hover {
  text-decoration: underline;
}

.social-icons, .payment-icons {
  display: flex;
  gap: 15px;
  margin-top: 10px;
}

.social-icons i, .payment-icons i {
  font-size: 24px;
}

.copyright {
  text-align: center;
  width: 100%;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid #333;
}

/* –ú–µ–¥–∏–∞–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
  #menu {
    width: 80vw;
    left: -80vw;
  }
  
  .footer-content {
    flex-direction: column;
  }
  
  .footer-section {
    margin-bottom: 20px;
  }
  
  .social-icons, .payment-icons {
    justify-content: center;
  }
  
  .products {
    padding: 10px 5px;
  }
  
  .product {
    max-width: 160px;
  }
  
  .product-image {
    height: 150px;
  }
  
  #cart-container {
    right: 15px;
    top: 70px;
  }
  
  #cart-button {
    width: 45px;
    height: 45px;
    font-size: 18px;
  }
  
  .black-bar {
    height: 50px;
  }
  
  .logo-link img {
    height: 35px;
  }
  
  #back-to-top {
    bottom: 90px;
    right: 15px;
    width: 45px;
    height: 45px;
    font-size: 18px;
  }
}

@media (max-width: 480px) {
  .product {
    max-width: 140px;
  }
  
  .product-image {
    height: 130px;
  }
  
  .product button {
    padding: 8px 16px;
    font-size: 12px;
  }
  
  #cart-container {
    right: 10px;
    top: 60px;
  }
  
  #cart-button {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
  
  #cart-count {
    width: 18px;
    height: 18px;
    font-size: 10px;
  }
  
  .black-bar {
    height: 45px;
  }
  
  .logo-link img {
    height: 30px;
  }
  
  #back-to-top {
    bottom: 80px;
    right: 10px;
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
  
  .cart-item {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .cart-item-image {
    width: 100%;
    height: 100px;
  }
}
</style>
<link rel="icon" href="–î–û–†–ê–ë–û–¢–ö–ê.png" sizes="512x512" type="image/png">
</head>
<body>

<!-- –ß–µ—Ä–Ω–∞—è –ø–æ–ª–æ—Å–∫–∞ —Å–≤–µ—Ä—Ö—É —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –º–µ–Ω—é -->
<div class="black-bar">
  <!-- –ú–µ–Ω—é –≤ –ª–µ–≤–æ–º —É–≥–ª—É –Ω–∞ —É—Ä–æ–≤–Ω–µ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
  <div class="menu-container">
    <button id="menu-button">‚ò∞</button>
  </div>
  
  <!-- –õ–æ–≥–æ—Ç–∏–ø –≤ —Ü–µ–Ω—Ç—Ä–µ -->
  <a href="index.html" class="logo-link">
    <img src="white-logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" />
  </a>
</div>

<!-- –í—ã–¥–≤–∏–≥–∞—é—â–µ–µ—Å—è –º–µ–Ω—é -->
<div id="menu">
  <button id="close-menu">‚úï</button>
  <ul>
    <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
    <li>
      <div class="categories-toggle">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚ñ∏</div>
      <ul class="subcategories">
        <li><a href="category1.html">–®—Ç–∞–Ω—ã</a></li>
        <li><a href="category2.html">–ö–æ—Ñ—Ç–æ—á–∫–∏</a></li>
      </ul>
    </li>
    <li><a href="about.html">–û –Ω–∞—Å</a></li>
  </ul>
</div>

<!-- –ö–æ—Ä–∑–∏–Ω–∞ —Å–ø—Ä–∞–≤–∞ –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
<div id="cart-container">
  <button id="cart-button">
    üõí
    <span id="cart-count">0</span>
  </button>
</div>

<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ -->
<div class="products" id="products-container">
  <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ -->
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤–≤–µ—Ä—Ö -->
<button id="back-to-top">‚Üë</button>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
<div id="cart-modal">
  <div id="cart-content">
    <button id="close-cart">‚úï</button>
    <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
    <div id="cart-items">
      <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
    </div>
    <form id="cart-form">
      <input type="text" placeholder="–§–ò–û" required>
      <input type="text" placeholder="–ì–æ—Ä–æ–¥" required>
      <input type="text" placeholder="–ê–¥—Ä–µ—Å" required>
      <select id="delivery-method" required>
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏</option>
        <option value="sdek">–°–î–≠–ö - 700 ‚ÇΩ</option>
        <option value="post">–ü–æ—á—Ç–∞ –†–æ—Å—Å–∏–∏ - 500 ‚ÇΩ</option>
      </select>
      <div id="cart-total">–ò—Ç–æ–≥–æ: 0 ‚ÇΩ</div>
      <button type="button" id="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </form>
  </div>
</div>

<!-- –§—É—Ç–µ—Ä -->
<div class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
      <ul class="footer-links">
        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="category1.html">–®—Ç–∞–Ω—ã</a></li>
        <li><a href="category2.html">–ö–æ—Ñ—Ç–æ—á–∫–∏</a></li>
        <li><a href="about.html">–û –Ω–∞—Å</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h3>–ü–æ–º–æ—â—å</h3>
      <ul class="footer-links">
        <li><a href="#">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></li>
        <li><a href="#">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a></li>
        <li><a href="#">–í–æ–∑–≤—Ä–∞—Ç –∏ –æ–±–º–µ–Ω</a></li>
        <li><a href="#">–†–∞–∑–º–µ—Ä—ã</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h3>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>
      <ul class="footer-links">
        <li><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></li>
        <li><a href="#">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></li>
        <li><a href="#">–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h3>–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</h3>
      <div class="social-icons">
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-vk"></i></a>
        <a href="#"><i class="fab fa-telegram"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
      </div>
      
      <h3 style="margin-top: 20px;">–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h3>
      <div class="payment-icons">
        <i class="fab fa-cc-visa"></i>
        <i class="fab fa-cc-mastercard"></i>
        <i class="fab fa-cc-mir"></i>
      </div>
    </div>
    
    <div class="copyright">
      <p>&copy; 2024. Aura Flow Collection. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
    </div>
  </div>
</div>

<script>
// –ú–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
const products = [
  { 
    name: '–¢–∏—à–∫–∞ –¥–ª—è –º–∞–ª—ã—à–∫–∏', 
    price: 500, 
    image: 'product1.jpg',
    hoverImage: 'product1-hover.jpg'
  },
  { 
    name: '–î–∂–∏–Ω—Å—ã', 
    price: 300, 
    image: 'product2.jpg',
    hoverImage: 'product2-hover.jpg'
  },
  { 
    name: '–ö–æ—Ñ—Ç–æ—á–∫–∞', 
    price: 700, 
    image: 'product3.jpg',
    hoverImage: 'product3-hover.jpg'
  },
  { 
    name: '–®–∞–ø–∫–∞', 
    price: 1200, 
    image: 'product4.jpg',
    hoverImage: 'product4-hover.jpg'
  },
];

// —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
function renderProducts() {
  const container = document.getElementById('products-container');
  container.innerHTML = '';
  products.forEach((prod, index) => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <div class="product-image">
        <img src="${prod.image}" alt="${prod.name}" class="main-image">
        <img src="${prod.hoverImage}" alt="${prod.name}" class="hover-image">
      </div>
      <h3>${prod.name}</h3>
      <p>–¶–µ–Ω–∞: ${prod.price} ‚ÇΩ</p>
      <button data-index="${index}">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
    `;
    container.appendChild(div);
  });
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
function updateCartCount() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const totalCount = cart.reduce((sum, item) => sum + item.count, 0);
  document.getElementById('cart-count').textContent = totalCount;
  
  // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É, –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã
  if (totalCount > 0) {
    document.getElementById('cart-container').style.display = 'block';
  } else {
    document.getElementById('cart-container').style.display = 'none';
  }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ—Ä–∑–∏–Ω—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
function updateCartModal() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const cartItems = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');
  
  cartItems.innerHTML = '';
  let total = 0;
  
  cart.forEach((item, index) => {
    const itemTotal = item.price * item.count;
    total += itemTotal;
    
    const itemElement = document.createElement('div');
    itemElement.className = 'cart-item';
    itemElement.innerHTML = `
      <img src="${item.image}" alt="${item.name}" class="cart-item-image">
      <div class="cart-item-info">
        <div>${item.name}</div>
        <div>${item.price} ‚ÇΩ x ${item.count}</div>
      </div>
      <div class="cart-item-controls">
        <button data-index="${index}" data-action="decrease">-</button>
        <span>${item.count}</span>
        <button data-index="${index}" data-action="increase">+</button>
        <button data-index="${index}" data-action="remove">‚úï</button>
      </div>
    `;
    cartItems.appendChild(itemElement);
  });
  
  // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏
  const deliveryMethod = document.getElementById('delivery-method');
  const deliveryCost = deliveryMethod.value === 'sdek' ? 700 : 
                       deliveryMethod.value === 'post' ? 500 : 0;
  total += deliveryCost;
  
  cartTotal.textContent = `–ò—Ç–æ–≥–æ: ${total} ‚ÇΩ`;
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
function setupAddButtons() {
  document.addEventListener('click', (e) => {
    if (e.target.hasAttribute('data-index') && !e.target.hasAttribute('data-action')) {
      const index = parseInt(e.target.getAttribute('data-index'));
      const product = products[index];
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const existing = cart.find(item => item.name === product.name);
      
      if (existing) {
        existing.count++;
      } else {
        cart.push({ 
          name: product.name, 
          price: product.price, 
          count: 1,
          image: product.image
        });
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
    }
  });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω–æ–π
function setupCartControls() {
  document.addEventListener('click', (e) => {
    if (e.target.hasAttribute('data-action')) {
      const index = parseInt(e.target.getAttribute('data-index'));
      const action = e.target.getAttribute('data-action');
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      if (action === 'increase') {
        cart[index].count++;
      } else if (action === 'decrease') {
        cart[index].count--;
        if (cart[index].count <= 0) {
          cart.splice(index, 1);
        }
      } else if (action === 'remove') {
        cart.splice(index, 1);
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      updateCartModal();
    }
  });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–Ω—é
function setupMenu() {
  const menuButton = document.getElementById('menu-button');
  const closeMenuButton = document.getElementById('close-menu');
  const menu = document.getElementById('menu');
  const categoriesToggle = document.querySelector('.categories-toggle');
  const subcategories = document.querySelector('.subcategories');
  
  menuButton.addEventListener('click', () => {
    menu.classList.add('active');
  });
  
  closeMenuButton.addEventListener('click', () => {
    menu.classList.remove('active');
  });
  
  categoriesToggle.addEventListener('click', () => {
    subcategories.classList.toggle('active');
    categoriesToggle.textContent = subcategories.classList.contains('active') 
      ? "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚ñæ" 
      : "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚ñ∏";
  });
  
  // –ó–∞–∫—Ä—ã–≤–∞—Ç—å –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
  document.addEventListener('click', (e) => {
    if (!menu.contains(e.target) && e.target !== menuButton) {
      menu.classList.remove('active');
    }
  });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
function setupCartModal() {
  const cartButton = document.getElementById('cart-button');
  const closeCartButton = document.getElementById('close-cart');
  const cartModal = document.getElementById('cart-modal');
  const deliveryMethod = document.getElementById('delivery-method');
  const checkoutButton = document.getElementById('checkout-btn');
  
  cartButton.addEventListener('click', () => {
    updateCartModal();
    cartModal.style.display = 'flex';
  });
  
  closeCartButton.addEventListener('click', () => {
    cartModal.style.display = 'none';
  });
  
  // –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–æ—Ä–∑–∏–Ω—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –æ–∫–Ω–∞
  cartModal.addEventListener('click', (e) => {
    if (e.target === cartModal) {
      cartModal.style.display = 'none';
    }
  });
  
  deliveryMethod.addEventListener('change', () => {
    updateCartModal();
  });
  
  checkoutButton.addEventListener('click', () => {
    const form = document.getElementById('cart-form');
    const formData = new FormData(form);
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã
    if (!formData.get('–§–ò–û') || !formData.get('–ì–æ—Ä–æ–¥') || !formData.get('–ê–¥—Ä–µ—Å') || !deliveryMethod.value) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã');
      return;
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
    if (cart.length === 0) {
      alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
      return;
    }
    
    // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    const orderData = {
      fio: formData.get('–§–ò–û'),
      city: formData.get('–ì–æ—Ä–æ–¥'),
      address: formData.get('–ê–¥—Ä–µ—Å'),
      delivery: deliveryMethod.value,
      deliveryCost: deliveryMethod.value === 'sdek' ? 700 : 500,
      items: cart,
      total: document.getElementById('cart-total').textContent
    };
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∑–¥–µ—Å—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à Telegram –±–æ—Ç —Ç–æ–∫–µ–Ω –∏ chat ID)
    sendToTelegram(orderData);
    
    // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
    localStorage.removeItem('cart');
    updateCartCount();
    cartModal.style.display = 'none';
    alert('–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
  });
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
function sendToTelegram(orderData) {
  // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
  let message = `–ù–æ–≤—ã–π –∑–∞–∫–∞–∑!\n\n`;
  message += `–§–ò–û: ${orderData.fio}\n`;
  message += `–ì–æ—Ä–æ–¥: ${orderData.city}\n`;
  message += `–ê–¥—Ä–µ—Å: ${orderData.address}\n`;
  message += `–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏: ${orderData.delivery === 'sdek' ? '–°–î–≠–ö' : '–ü–æ—á—Ç–∞ –†–æ—Å—Å–∏–∏'}\n`;
  message += `–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏: ${orderData.deliveryCost} ‚ÇΩ\n\n`;
  message += `–¢–æ–≤–∞—Ä—ã:\n`;
  
  orderData.items.forEach(item => {
    message += `- ${item.name}: ${item.price} ‚ÇΩ x ${item.count} = ${item.price * item.count} ‚ÇΩ\n`;
  });
  
  message += `\n${orderData.total}`;
  
  // –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ chat ID
  const botToken = 'YOUR_BOT_TOKEN';
  const chatId = 'YOUR_CHAT_ID';
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API Telegram
  fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      chat_id: chatId,
      text: message,
    }),
  })
  .then(response => response.json())
  .then(data => {
    console.log('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram:', data);
  })
  .catch(error => {
    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
  });
}

// –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤–≤–µ—Ä—Ö
function setupBackToTop() {
  const backToTopButton = document.getElementById('back-to-top');
  
  window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) {
      backToTopButton.classList.add('visible');
    } else {
      backToTopButton.classList.remove('visible');
    }
  });
  
  backToTopButton.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', () => {
  renderProducts();
  setupAddButtons();
  setupCartControls();
  setupMenu();
  setupCartModal();
  setupBackToTop();
  updateCartCount();
});
</script>
</body>
</html>
